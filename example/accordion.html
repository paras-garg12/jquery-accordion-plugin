/* global jquery */

      
    
    $.fn.accordion=function(options){
       $.fn.accordion.defaults={
             speed:100,
             accordianCss:{},
             controlCss:{},
             panelCss:{}
       };
        $('.accordion-panel').hide();
        options=$.extend(true,{},$.fn.accordion.defaults,options);
        $(this).css($.fn.accordion.defaults.accordianCss);
        $('.accordion-control').css($.fn.accordion.defaults.controlCss);
        $('.accordion-panel').css($.fn.accordion.defaults.panelCss);
        /* adding style shhet not use .css for increaing performance*/
        
     $styleElement=$( "<style type=\"text/css\"></style>").appendTo( "head" );
     $styleElement.html(".accordion,\
        .accordion * {\
            -webkit-box-sizing:border-box;\
            -moz-box-sizing:border-box;\
             box-sizing:border-box;\
            }\
\
        .accordion {\
            overflow:hidden;\
            box-shadow:0px 1px 3px rgba(0,0,0,0.25);\
            border-radius:3px;\
            background:#f7f7f7;\
            }\
\
/*----- Section Titles -----*/\
        .accordion-control {\
            width:100%;\
            padding:15px;\
            display:inline-block;\
            border-bottom:1px solid #1a1a1a;\
            background:#333;\
            transition:all linear 0.15s;\
	/* Type */\
            font-size:1.200em;\
            text-shadow:0px 1px 0px #1a1a1a;\
            color:#fff;\
            }\
\
 .accordiomn-control.active ,.accordion-control:hover {\
            background:#4c4c4c;\
            /* Type */\
            text-decoration:none;\
            }\
        .accordion-panel {\
            padding:15px;\
            display:none;\
            }");
        var $prev=$();
        this.on('click','.accordion-control',function(e){
            e.preventDefault();
            $prev.removeClass('active');
            $(this).addClass('active');
            $prev=$(this);
            $(this).next('.accordion-panel')
                    .not(':animated')
                    .slideToggle(options.speed);
        });       
        /* returning this for chaining*/
        return this;
    };
   
    
    
    
    
